{% block navbar %}
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="{{ url_for('page', path='home') }}">Home</a>
    </div>
    <ul class="nav navbar-nav mr-auto">
      <!-- <li class="active"><a href="{{ url_for('page', path='home') }}">Home</a></li> -->
      {% for page in pages %}
        {% if current_user.is_authenticated or not page.meta['requires_login'] %}
          {% if page.meta['navbar'] %}
            {% if page.meta['form'] %}
              <li> <a href="{{ url_for('page', path='/form/'+page.path) }}">{{ page.title }}</a> </li>
            {% else %}
              <li> <a href="{{ url_for('page', path=page.path) }}">{{ page.title }}</a> </li>
            {% endif %}
          {% endif %}
        {% endif %}
      {% endfor %}
    </ul>
    <ul class="nav navbar-nav ml-auto justify-content-end">
      {% if current_user.is_authenticated %}
      <li> <a class="nav-link" href="{{ url_for('logout') }}">Logout [{{ user.username }}] </a> </li>
      {% else %}
      <li> <a class="nav-link" href="{{ url_for('login') }}">Login</a> </li>
      {% endif %}
    </ul>
  </div>
	</nav>
{%- endblock navbar %}